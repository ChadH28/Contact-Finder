(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t){e.exports="data:image/png;base64,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"},38:function(e,t,a){e.exports=a(68)},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),s=a(15),o=a(3),i=a(36),u=Object(n.createContext)(),m=function(e){var t=e.component,a=Object(i.a)(e,["component"]),c=Object(n.useContext)(u),l=c.isAuthenticated,s=c.loading;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return l||s?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},p=Object(n.createContext)(),E=a(35),d=a.n(E),f=function(e){e.title,e.icon;var t=Object(n.useContext)(u),a=Object(n.useContext)(p),c=t.isAuthenticated,l=t.logout,o=t.user,i=a.clearContacts,m=r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement("button",{id:"username",className:"btn"},"Hello ",o&&o.name,", Welcome to Contact Assistant")),r.a.createElement("li",null,r.a.createElement("button",{id:"logout-btn",className:"btn btn-success",onClick:function(){l(),i()},href:"#!"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",r.a.createElement("span",{className:"hide-sm"},"Logout")))),E=r.a.createElement(n.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register",className:"btn btn-success user-btn"},"Register")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login",className:"btn btn-success user-btn"},"Login")));return r.a.createElement("div",{className:"navbar bg-success"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("img",{id:"logo",className:"img-fluid",src:d.a})),r.a.createElement("ul",null,c?m:E)))};f.defaultProps={title:"Contact Assistant",icon:"fas fa-address-book"};var b=f,O=a(73),h=a(71),I=function(e){var t=e.contact,a=Object(n.useContext)(p),c=a.deleteContact,l=a.setCurrent,s=a.clearCurrent,o=t._id,i=t.name,u=t.email,m=t.phone,E=t.type;return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("h3",{className:"text-primary text-left"},i," ",r.a.createElement("span",{style:{float:"right"},className:"badge"+("professional"===E?" badge badge-success":" badge badge-primary")},E.charAt(0).toUpperCase()+E.slice(1))),r.a.createElement("ul",{className:"list"},u&&r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-envelope-open"})," ",u),m&&r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-phone"})," ",m)),r.a.createElement("p",null,r.a.createElement("button",{className:"btn btn-dark btn-sm",onClick:function(){return l(t)}},r.a.createElement("i",{class:"fas fa-user-edit"})),r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){c(o),s()}},r.a.createElement("i",{className:"fas fa-trash"}))))},g=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"spinner-grow text-success"}))},C=function(){var e=Object(n.useContext)(p),t=e.contacts,a=e.filtered,c=e.getContacts,l=e.loading;return Object(n.useEffect)((function(){c()}),[]),null===t||0!==t.length||l?r.a.createElement(n.Fragment,null,null===t||l?r.a.createElement(g,null):r.a.createElement(O.a,null,null!==a?a.map((function(e){return r.a.createElement(h.a,{key:e._id,timeout:500,classNames:"item"},r.a.createElement(I,{contact:e}))})):t.map((function(e){return r.a.createElement(h.a,{key:e._id,timeout:500,classNames:"item"},r.a.createElement(I,{contact:e}))})))):r.a.createElement("h4",null,"Please add a contact.")},j=a(14),v=a(1),R=a(9),y=function(){var e=Object(n.useContext)(p),t=e.addContact,a=e.updateContact,c=e.clearCurrent,l=e.current;Object(n.useEffect)((function(){u(null!==l?l:{name:"",email:"",phone:"",type:"personal"})}),[e,l]);var s=Object(n.useState)({name:"",email:"",phone:"",type:"personal"}),o=Object(R.a)(s,2),i=o[0],u=o[1],m=i.name,E=i.email,d=i.phone,f=i.type,b=function(e){return u(Object(v.a)(Object(v.a)({},i),{},Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),null===l?t(i):a(i),u({name:"",email:"",phone:"",type:"personal"})}},r.a.createElement("h2",{className:"text-success"},l?"Edit Contact":"Add Contact"),r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:m,onChange:b}),r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:E,onChange:b}),r.a.createElement("input",{type:"text",placeholder:"Phone",name:"phone",value:d,onChange:b}),r.a.createElement("h5",null,"Contact Type"),r.a.createElement("input",{type:"radio",value:"personal",name:"type",checked:"personal"===f,onChange:b})," Personal "," ",r.a.createElement("input",{type:"radio",value:"professional",name:"type",checked:"professional"===f,onChange:b})," Professional",r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:l?"Update Contact":"Add Contact",className:"btn btn-success btn-block"})),l&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-light btn-block",onClick:function(){c()}},"Clear")))},A=function(){var e=Object(n.useContext)(p),t=e.filterContacts,a=e.clearFilter,c=e.filtered,l=Object(n.useRef)("");Object(n.useEffect)((function(){null===c&&(l.current.value="")}));return r.a.createElement("form",null,r.a.createElement("input",{ref:l,type:"text",placeholder:"Filter Contacts..",onChange:function(e){""!==l.current.value?t(e.target.value):a()}}))},T=function(){var e=Object(n.useContext)(u);return Object(n.useEffect)((function(){e.loadUser()}),[]),r.a.createElement("div",{className:"grid-2"},r.a.createElement("div",null,r.a.createElement(y,null)),r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(C,null)))},N=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About this app"),r.a.createElement("p",{className:"my-1"},"This is a fullstack app for keeping contacts."),r.a.createElement("p",{className:"bg-dark p"},r.a.createElement("strong",null,"Version:"),"1.0.0"))},x=Object(n.createContext)(),D=function(e){var t=Object(n.useContext)(x),a=Object(n.useContext)(u),c=t.setAlert,l=a.register,s=a.error,o=a.clearErrors,i=a.isAuthenticated;Object(n.useEffect)((function(){i&&e.history.push("/"),"User already exists."===s&&(c(s,"danger"),o())}),[s,i,e.history]);var m=Object(n.useState)({name:"",email:"",password:"",password2:""}),p=Object(R.a)(m,2),E=p[0],d=p[1],f=E.name,b=E.email,O=E.password,h=E.password2,I=function(e){return d(Object(v.a)(Object(v.a)({},E),{},Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Account ",r.a.createElement("span",{className:"text-success"},"Register")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===f||""===b||""===O?c("Please enter all required fields.","danger"):O!==h?(c("Passwords you entered does not match.","danger"),o()):l({name:f,email:b,password:O})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",name:"name",value:f,onChange:I,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",value:b,onChange:I,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:O,onChange:I,required:!0,minLength:"6"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"password2",value:h,onChange:I,minLength:"6"})),r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-success btn-block"})))},k=function(e){var t=Object(n.useContext)(x),a=Object(n.useContext)(u),c=t.setAlert,l=a.login,s=a.error,o=a.clearErrors,i=a.isAuthenticated;Object(n.useEffect)((function(){i&&e.history.push("/"),"Invalid User Credentials."===s&&(c(s,"danger"),o())}),[s,i,e.history]);var m=Object(n.useState)({email:"",password:""}),p=Object(R.a)(m,2),E=p[0],d=p[1],f=E.email,b=E.password,O=function(e){return d(Object(v.a)(Object(v.a)({},E),{},Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Account ",r.a.createElement("span",{className:"text-success"},"Login")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===f||""===b?c("Please fill in all the required fields.","danger"):l({email:f,password:b})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",value:f,onChange:O,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:b,onChange:O,required:!0})),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-success btn-block"})))},S=function(){var e=Object(n.useContext)(x);return e.alerts.length>0&&e.alerts.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.type)},r.a.createElement("i",{className:"fas fa-info-circle"})," ",e.msg)}))},L=a(5),w=a.n(L),H=a(12),G=a(10),U=a.n(G),Q=a(20),Y=function(e,t){switch(t.type){case"GET_CONTACTS":return Object(v.a)(Object(v.a)({},e),{},{contacts:t.payload,loading:!1});case"ADD_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:[t.payload].concat(Object(Q.a)(e.contacts)),loading:!1});case"DELETE_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.payload})),loading:!1});case"SET_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:t.payload});case"CLEAR_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:null});case"CLEAR_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:null,filtered:null,error:null,current:null});case"UPDATE_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case"FILTER_CONTACTS":return Object(v.a)(Object(v.a)({},e),{},{filtered:e.contacts.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.email.match(a)}))});case"CLEAR_FILTER":return Object(v.a)(Object(v.a)({},e),{},{filtered:null});case"CONTACT_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},M=function(e){var t=Object(n.useReducer)(Y,{contacts:null,current:null,filtered:null,error:null}),a=Object(R.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(H.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/contacts");case 3:t=e.sent,l({type:"GET_CONTACTS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"CONTACT_ERROR",payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(H.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,U.a.post("/api/contacts",t,a);case 4:n=e.sent,l({type:"ADD_CONTACT",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"CONTACT_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(H.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.delete("/api/contacts/".concat(t));case 3:l({type:"DELETE_CONTACT",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l({type:"CONTACT_ERROR",payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(H.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,U.a.put("/api/contacts/".concat(t._id),t,a);case 4:n=e.sent,l({type:"UPDATE_CONTACT",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"CONTACT_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.Provider,{value:{contacts:c.contacts,current:c.current,filtered:c.filtered,error:c.error,filterContacts:function(e){l({type:"FILTER_CONTACTS",payload:e})},clearFilter:function(){l({type:"CLEAR_FILTER"})},addContact:o,deleteContact:i,setCurrent:function(e){l({type:"SET_CURRENT",payload:e})},clearCurrent:function(){l({type:"CLEAR_CURRENT"})},updateContact:u,getContacts:s,clearContacts:function(){l({type:"CLEAR_CONTACT"})}}},e.children)},P=function(e,t){switch(t.type){case"USER_LOADED":return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(v.a)(Object(v.a)(Object(v.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAILED":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(v.a)(Object(v.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{error:null});default:return e}},W=function(e){e?U.a.defaults.headers.common["x-auth-token"]=e:delete U.a.defaults.headers.common["x-auth-token"]},J=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,error:null,user:null},a=Object(n.useReducer)(P,t),c=Object(R.a)(a,2),l=c[0],s=c[1],o=function(){var e=Object(H.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&W(localStorage.token),e.prev=1,e.next=4,U.a.get("/api/auth");case 4:t=e.sent,s({type:"USER_LOADED",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(H.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,U.a.post("/api/users",t,a);case 4:n=e.sent,s({type:"REGISTER_SUCCESS",payload:n.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"REGISTER_FAILED",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(H.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,U.a.post("/api/auth",t,a);case 4:n=e.sent,s({type:"LOGIN_SUCCESS",payload:n.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"LOGIN_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.Provider,{value:{token:l.token,isAuthenticated:l.isAuthenticated,loading:l.loading,user:l.user,error:l.error,register:i,loadUser:o,login:m,logout:function(){return s({type:"LOGOUT"})},clearErrors:function(){return s({type:"CLEAR_ERRORS"})}}},e.children)},Z=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(Q.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},q=a(72),X=function(e){var t=Object(n.useReducer)(Z,[]),a=Object(R.a)(t,2),c=a[0],l=a[1];return r.a.createElement(x.Provider,{value:{alerts:c,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=Object(q.a)();l({type:"SET_ALERT",payload:{msg:e,type:t,id:n}}),setTimeout((function(){return l({type:"REMOVE_ALERT",payload:n})}),a)}}},e.children)};a(67);localStorage.token&&W(localStorage.token);var B=function(){return r.a.createElement(J,null,r.a.createElement(M,null,r.a.createElement(X,null,r.a.createElement(s.a,null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement(S,null),r.a.createElement(o.d,null,r.a.createElement(m,{exact:!0,path:"/",component:T}),r.a.createElement(o.b,{exact:!0,path:"/about",component:N}),r.a.createElement(o.b,{exact:!0,path:"/login",component:k}),r.a.createElement(o.b,{exact:!0,path:"/register",component:D})))))))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.7922715e.chunk.js.map